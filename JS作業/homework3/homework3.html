<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>HI</title>
    <style>
        .ipadtotalpic img {
            width: 100%;
        }

        .ipad_color img {
            width: 25%;
            margin: auto;
        }

        .ipad_color button {
            border-radius: 20px;
            margin: 10px;
            width: 45%;
        }

        .ipad_color button:hover {
            background-color: #fff;
            color: rgb(108, 117, 125);
        }

        .choosestorage button {
            border-radius: 20px;
            width: 45%;
            margin: 10px;
            padding: 20px;
        }

        .choosewifi button {
            border-radius: 20px;
            width: 45%;
            margin: 10px;
            padding: 20px;
        }

    </style>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-12 col-md-6">
                <div class="ipadtotalpic">
                    <img class="ipadtotalpic_img"
                        src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/ipad-air-select-202009?wid=886&hei=1070&fmt=jpeg&qlt=80&.v=1599066777000"
                        alt="">
                </div>
            </div>
            <div class="col-12 col-md-6 ps-2">
                <div class="ipad_title mt-5">
                    <h1>購買iPad Air</h1>
                </div>
                <div class="ipad_color mt-5 fs-4 ">
                    <p>挑選顏色</p>
                    <div class="choosecolor d-flex flex-wrap">
                        <button class="btn  btn-outline-secondary ">
                            <img class="d-flex flex-wrap"
                                src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/finish-spacegray-201903?wid=204&amp;hei=204&amp;fmt=png-alpha&amp;.v=1552422652805 alt=">
                            <span>太空灰色</span>
                        </button>
                        <button class="btn  btn-outline-secondary ">
                            <img class="d-flex flex-wrap"
                                src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/finish-silver-201903?wid=204&amp;hei=204&amp;fmt=png-alpha&amp;.v=1552422655664">
                            <span>銀色</span>
                        </button>
                        <button class="btn  btn-outline-secondary ">
                            <img class="d-flex flex-wrap"
                                src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/finish-gold-202009?wid=204&amp;hei=204&amp;fmt=jpeg&amp;qlt=80&amp;.v=1599240136000">
                            <span>玫瑰金色</span>
                        </button>
                        <button class="btn  btn-outline-secondary ">
                            <img class="d-flex flex-wrap"
                                src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/finish-green-202009?wid=204&amp;hei=204&amp;fmt=jpeg&amp;qlt=80&amp;.v=1599240136000">
                            <span>綠色</span>
                        </button>
                        <button class="btn  btn-outline-secondary ">
                            <img class="d-flex flex-wrap"
                                src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/finish-blue-202009?wid=204&amp;hei=204&amp;fmt=png-alpha&amp;.v=1599240136000">
                            <span>天藍色</span>
                        </button>
                    </div>
                </div>
                <div class="ipadstorage mt-5 fs-4">
                    <p>儲存裝置</p>
                    <div class="choosestorage">
                        <button class="btn btn-outline-secondary">
                            <p>64GB</p>
                            <span>NT$18,900起</span>
                        </button>
                        <button class="btn btn-outline-secondary">
                            <p>256GB</p>
                            <span>NT$23,900起</span>
                        </button>
                    </div>
                </div>
                <div class="connectwifi">
                    <p>連線能力</p>
                    <div class="choosewifi">
                        <button class="btn btn-outline-secondary">
                            Wi-Fi
                        </button>
                        <button class="btn btn-outline-secondary">
                            Wi-Fi + 行動網路
                        </button>
                    </div>
                </div>
                <div class="ipadtotalprice mt-5">
                    <span class="totalprice fs-5"></span>
                    <br>
                    <button class="btn btn-primary fw-bolder mt-1">繼續</button>
                </div>
            </div>
        </div>
    </div>


    <script>
        let url = 'https://nickwang841231.github.io/JS%E4%BD%9C%E6%A5%AD/homework3/iPad.json';
        let ipadtotalimg = document.querySelector('.ipadtotalpic_img');
        let spacegray = document.querySelectorAll('button')[0];
        let silver = document.querySelectorAll('button')[1];
        let rosegold = document.querySelectorAll('button')[2];
        let green = document.querySelectorAll('button')[3];
        let skyblue = document.querySelectorAll('button')[4];
        let gb64 = document.querySelectorAll('button')[5];
        let gb256 = document.querySelectorAll('button')[6];
        let wifi = document.querySelectorAll('button')[7];
        let wifiplus = document.querySelectorAll('button')[8];

        let totalprice = document.querySelector('.totalprice');

        let changecolor;

        let xhr = new XMLHttpRequest();
        xhr.onload = function () {
            let ipadair = this.response;
            /*ipadair.forEach((ipad , index) =>{
                let values = Object.values(ipad)[5];
                console.log(values);
                console.log(index);
            })
            */
            /*let r1 = ipadair.find ( x =>x.color =='spacegray');
            console.log(r1.picture);
            */
            let changepic;
            spacegray.onclick = function () {
                changepic = ipadair.find ( x => x.color == 'spacegray');
                ipadtotalimg.setAttribute('src',changepic.picture);
            }
            silver.onclick = function () {
                changepic = ipadair.find ( x => x.color == 'silver');
                ipadtotalimg.setAttribute('src',changepic.picture);
            }
            rosegold.onclick = function () {
                changepic = ipadair.find ( x => x.color == 'rosegold');
                ipadtotalimg.setAttribute('src',changepic.picture);
            }
            green.onclick = function () {
                changepic = ipadair.find ( x => x.color == 'green');
                ipadtotalimg.setAttribute('src',changepic.picture);
            }
            skyblue.onclick = function () {
                changepic = ipadair.find ( x => x.color == 'skyblue');
                ipadtotalimg.setAttribute('src',changepic.picture);
            }
            /*
            let r2 = ipadair.find( x => x.storage == '64GB');
            console.log(r2.price);
            */
            let wifiprice , wifiplusprice; 
            let storage64wifiprice,storage64wifiplusprice;
            gb64.onclick = function () {
                storage64wifiprice = ipadair.find( x => x.storage == '64GB' && x.network == 'Wi-Fi');
                //console.log(storage64wifiprice.price);
                wifiprice = storage64wifiprice.price
                storage64wifiplusprice = ipadair.find( x => x.storage == '64GB' && x.network == 'Cellular');
                //console.log(storage64wifiplusprice.price);
                wifiplusprice = storage64wifiplusprice.price;
            }
            let storage256wifiprice,storage256wifiplusprice;
            gb256.onclick = function () {
                storage256wifiprice = ipadair.find( x => x.storage == '256GB' && x.network == 'Wi-Fi');
                //console.log(storage256wifiprice.price);
                wifiprice = storage256wifiprice.price;
                storage256wifiplusprice = ipadair.find( x => x.storage == '256GB' && x.network == 'Cellular');
                //console.log(storage256wifiplusprice.price);
                wifiplusprice = storage256wifiplusprice.price;
            }

            wifi.onclick = function () {
                totalprice.innerText = `NT$${wifiprice}`;
            }
            wifiplus.onclick = function () {
                totalprice.innerText = `NT$${wifiplusprice}`;
            }
        }





        xhr.responseType = 'json';
        xhr.open('GET',url);
        xhr.send();        
    </script>






    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous">
    </script>
</body>

</html>